<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- ConfiguraÃ§Ãµes bÃ¡sicas do documento -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel Admin - Produtos ğŸ§</title>

  <!-- Ãcone da aba -->
  <link rel="icon" type="image/jpg" href="../assets/img/favicon-cupcake.jpg">

  <!-- CSS global + admin para manter padronizaÃ§Ã£o visual -->
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/style-admin.css">

  <style>
    /* Ajuste local da largura do painel para lista de produtos */
    .admin-produtos-page .admin-panel {
      max-width: 1200px;
    }

    /* Coluna de aÃ§Ãµes mais espaÃ§osa nesta tela */
    .admin-produtos-page .admin-table th:last-child,
    .admin-produtos-page .admin-table td:last-child {
      width: 160px;
      text-align: center;
    }

    /* BotÃµes organizados verticalmente na coluna "AÃ§Ãµes" */
    .admin-produtos-page .admin-table td:last-child .btn-admin {
      display: block;
      width: 100%;
      margin: 4px 0;
    }
  </style>

  <script>
    /* VerificaÃ§Ã£o simples via localStorage.
       Impede acesso visual, mas nÃ£o substitui validaÃ§Ã£o real no backend. */
    const usuario = JSON.parse(localStorage.getItem("usuario"));
    if (!usuario || usuario.nivel !== "admin") {
      alert("Acesso negado. Somente administradores podem entrar aqui.");
      window.location.href = "../login.html";
    }
  </script>
</head>

<body class="admin-body admin-produtos-page">

  <!-- Barra superior do painel admin -->
  <header class="navbar admin-navbar">
    <div class="logo">Cupcake Store â€” ADMIN</div>

    <!-- NavegaÃ§Ã£o entre mÃ³dulos -->
    <nav id="menuAdmin">
      <a href="admin-dashboard.html" id="link-dashboard">ğŸ“Š Dashboard</a>
      <a href="admin-cupoms.html" id="link-cupons">ğŸŸï¸ Cupons</a>
      <a href="admin-usuarios.html" id="link-usuarios">ğŸ‘¥ UsuÃ¡rios</a>
      <a href="admin-produtos.html" id="link-produtos">ğŸ§ Produtos</a>
      <a href="admin-historicos.html" id="link-historico">ğŸ“œ HistÃ³rico</a>
      <a href="admin.html" class="logout-link">â†©ï¸ Voltar ao Painel Admin</a>
    </nav>
  </header>

  <main class="admin-main">
    <div class="admin-page-wrapper">

      <!-- TÃ­tulo da seÃ§Ã£o -->
      <h1 class="admin-title">Gerenciamento de Produtos ğŸ§</h1>

      <div class="admin-panel">

        <!-- Abertura de modal ou formulÃ¡rio via JS -->
        <button class="btn-admin btn-admin-add" id="novoProduto">
          + Adicionar Produto
        </button>

        <!-- Tabela preenchida dinamicamente pelo JavaScript -->
        <table class="admin-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>PreÃ§o</th>
              <th>DescriÃ§Ã£o</th>
              <th>Imagem (URL)</th>
              <th>Quantidade</th>
              <th>Ativo</th>
              <th>AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody id="listaProdutos"></tbody>
        </table>

      </div>

    </div>
  </main>

  <!-- RodapÃ© padrÃ£o -->
  <footer class="footer">
    <p></p>
  </footer>

  <script>
    /* Marca o menu ativo visualmente */
    document.getElementById("link-produtos")?.classList.add("active");
  </script>

  <!-- Script responsÃ¡vel por carregar e manipular os produtos -->
  <script src="../../js/admin/admin-produtos.js"></script>

</body>
</html>
