<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- ConfiguraÃ§Ãµes essenciais -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel Admin - UsuÃ¡rios ğŸ‘¥</title>

  <!-- Favicon -->
  <link rel="icon" type="image/jpg" href="../assets/img/favicon-cupcake.jpg">

  <!-- CSS global + admin -->
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/style-admin.css">

  <style>
    /* Ajustes especÃ­ficos apenas para esta pÃ¡gina */

    /* Coluna de aÃ§Ãµes configurada como flex para organizar os botÃµes */
    .admin-users-page .admin-table td:last-child {
      display: flex;
      justify-content: center;
      gap: 6px;                 /* espaÃ§amento mÃ­nimo entre botÃµes */
      padding: 0.5rem 0.75rem;
    }

    /* BotÃµes mais compactos, sem margens extras */
    .admin-users-page .admin-table td:last-child .btn-admin {
      margin: 0;
      padding: 6px 10px;
      width: auto;
    }
  </style>

  <script>
    /* ValidaÃ§Ã£o simples via localStorage.
       Garante bloqueio visual, mas backend ainda precisa validar permissÃµes. */
    const usuario = JSON.parse(localStorage.getItem("usuario"));
    if (!usuario || usuario.nivel !== "admin") {
      alert("Acesso negado. Apenas administradores podem entrar aqui.");
      window.location.href = "../login.html";
    }
  </script>

</head>

<body class="admin-body admin-users-page">

  <!-- CabeÃ§alho padrÃ£o do admin -->
  <header class="navbar admin-navbar">
    <div class="logo">Cupcake Store â€” ADMIN</div>

    <nav id="menuAdmin">
      <a href="admin-dashboard.html">ğŸ“Š Dashboard</a>
      <a href="admin-cupoms.html">ğŸŸï¸ Cupons</a>
      <a href="admin-usuarios.html" id="link-usuarios">ğŸ‘¥ UsuÃ¡rios</a>
      <a href="admin-produtos.html">ğŸ§ Produtos</a>
      <a href="admin-historicos.html">ğŸ“œ HistÃ³rico</a>
      <a href="admin.html" class="logout-link">â†©ï¸ Voltar ao Painel Admin</a>
    </nav>
  </header>

  <main class="admin-main">
    <div class="admin-page-wrapper">

      <!-- TÃ­tulo -->
      <h1 class="admin-title">Gerenciamento de UsuÃ¡rios ğŸ‘¥</h1>

      <div class="admin-panel">

        <!-- BotÃ£o que dispara modal/form pelo JS -->
        <button class="btn-admin btn-admin-add" id="novoUsuario">
          + Adicionar UsuÃ¡rio
        </button>

        <!-- Tabela preenchida dinamicamente com os dados do backend -->
        <table class="admin-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Email</th>
              <th>NÃ­vel</th>
              <th>AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody id="listaUsuarios"></tbody>
        </table>

      </div>

    </div>
  </main>

  <footer class="footer">
    <p></p>
  </footer>

  <script>
    /* Destaca visualmente o menu ativo */
    document.getElementById("link-usuarios")?.classList.add("active");
  </script>

  <!-- Script responsÃ¡vel por listar usuÃ¡rios e gerenciar aÃ§Ãµes -->
  <script src="../../js/admin/admin-usuarios.js"></script>

</body>
</html>
