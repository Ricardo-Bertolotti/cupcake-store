<!-- Estrutura base do painel admin. MantÃ©m consistÃªncia visual com demais telas -->
<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- ConfiguraÃ§Ãµes essenciais de charset e responsividade -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- TÃ­tulo e favicon especÃ­ficos da Ã¡rea admin -->
  <title>Painel Admin - HistÃ³rico de Pedidos ğŸ“œ</title>
  <link rel="icon" type="image/jpg" href="../assets/img/favicon-cupcake.jpg">

  <!-- CSS global + CSS especÃ­fico do admin para evitar conflito entre layouts -->
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/style-admin.css">

  <!-- VerificaÃ§Ã£o simples de permissÃ£o via localStorage.
       Apenas impede acesso bÃ¡sico; nÃ£o substitui autenticaÃ§Ã£o real. -->
  <script>
    const usuario = JSON.parse(localStorage.getItem("usuario"));
    if (!usuario || usuario.nivel !== "admin") {
      alert("Acesso negado.");
      window.location.href = "../login.html";
    }
  </script>

  <style>
    /* Ajuste local para campos da tabela de histÃ³rico.
       Idealmente deveria ir para style-admin.css. */
    .admin-historicos-page .admin-table td:last-child {
      display: flex;
      gap: 6px;
      justify-content: center;
    }

    .admin-historicos-page .admin-table select {
      padding: 6px 10px;
      border-radius: 6px;
      background: #222;
      color: #fff;
      border: 1px solid #444;
    }
  </style>
</head>

<body class="admin-body admin-historicos-page">

  <!-- Navbar padrÃ£o do admin com links diretos para os mÃ³dulos -->
  <header class="navbar admin-navbar">
    <div class="logo">Cupcake Store â€” ADMIN</div>

    <nav id="menuAdmin">
      <a href="admin-dashboard.html">ğŸ“Š Dashboard</a>
      <a href="admin-cupoms.html">ğŸŸï¸ Cupons</a>
      <a href="admin-usuarios.html">ğŸ‘¥ UsuÃ¡rios</a>
      <a href="admin-produtos.html">ğŸ§ Produtos</a>
      <a href="admin-historicos.html" id="link-historico">ğŸ“œ HistÃ³rico</a>
      <a href="admin.html" class="logout-link">â†©ï¸ Voltar ao Painel Admin</a>
    </nav>
  </header>

  <main class="admin-main">
    <div class="admin-page-wrapper">

      <!-- TÃ­tulo da pÃ¡gina -->
      <h1 class="admin-title">HistÃ³rico de Pedidos ğŸ“œ</h1>

      <div class="admin-panel">

        <!-- Tabela onde os pedidos serÃ£o injetados via JS -->
        <table class="admin-table">
          <thead>
            <tr>
                <th>ID</th>
                <th>UsuÃ¡rio</th>
                <th>Total (R$)</th>
                <th>Forma de Pagamento</th>
                <th>Status</th>
                <th>Data</th>
                <th>AÃ§Ãµes</th>
            </tr>
          </thead>

          <tbody id="listaPedidos"></tbody>
        </table>

      </div>

    </div>
  </main>

  <!-- RodapÃ© vazio (mantÃ©m padrÃ£o das pÃ¡ginas admin) -->
  <footer class="footer"></footer>

  <script>
    // Marca visualmente o menu ativo
    document.getElementById("link-historico")?.classList.add("active");
  </script>

  <!-- Script responsÃ¡vel por carregar e manipular os pedidos -->
  <script src="../../js/admin/admin-historicos.js"></script>

</body>
</html>
